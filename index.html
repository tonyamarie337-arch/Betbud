<!DOCTYPE html>
<html>
<head>
    <title>Betbud - Your Solo Betting Empire</title>
    <script src="https://js.paystack.co/v1/inline.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: Arial; text-align: center; background: #1a1a1a; color: #fff;}        .container { max-width: 600px; margin: auto; padding: 20px;}        button { padding: 10px 20px; margin: 10px; background: #00ff00; color: #000; border: none; cursor: pointer;}        input, select { padding: 10px; margin: 5px;}    </style>
</head>
<body>
    <div class="container">
        <h1>Betbud: Rule the Games</h1>
        <input type="number" id="amount" placeholder="Deposit NGN" min="10">
        <button onclick="deposit()">Deposit</button>
        <select id="mode">
            <option value="crash">Crash</option>
            <option value="dice">Dice</option>
            <option value="spin">Spin</option>
            <option value="tap">Tap (Normal)</option>
            <option value="tap_pro">Tap (Pro)</option>
            <option value="roulette">Roulette</option>
            <option value="plinko">Plinko</option>
        </select>
        <input type="number" id="bet_amount" placeholder="Bet Amount" min="10">
        <input type="number" id="multiplier" placeholder="Multiplier" min="1.1" value="2.0">
        <button onclick="placeBet()">Bet</button>
        <button onclick="window.location.href='/profits'">View Profits</button>
        <button onclick="withdraw()">Withdraw</button>
        <p id="balance">Balance: 0 NGN</p>
        <p id="result"></p>
    </div>
    <script>
        async function deposit() {
            const amount = document.getElementById("amount").value;
            const handler = PaystackPop.setup({
                key:"{{ PAYSTACK_PUBLIC_KEY }}",
                email:"user7751724771@betbud.com",
                amount: amount* 100,
                metadata: { user_id:"7751724771" },
                onClose: () => alert("Deposit cancelled"),
                callback: async (response) => {
                    alert("Deposit successful!");
                    updateBalance();}            });
            handler.openIframe();}        async function placeBet() {
            const mode = document.getElementById("mode").value;
            const bet_amount = document.getElementById("bet_amount").value;
            const multiplier = document.getElementById("multiplier").value;
            const response = await fetch(`/bet/${mode.split('_')[0]}`, {
                method:"POST",
                headers: {"Content-Type":"application/json" },
                body: JSON.stringify({ user_id: 7751724771, bet_amount, multiplier })
            });
            const data = await response.json();
            document.getElementById("result").innerText =`Bet${bet_amount} NGN:${data.win?"Won" :"Lost"}! Profit:${data.profit.toFixed(2)} NGN`;
            updateBalance();}        async function withdraw() {
            const amount = prompt("Enter amount to withdraw (NGN):");
            if (amount) {
                alert(`Withdrawal of${amount} NGN initiated via Paystack to your bank/Mozartbet.`);}        }
        async function updateBalance() {
            const response = await fetch("/balance/7751724771");
            const data = await response.json();
            document.getElementById("balance").innerText =`Balance:${data.balance.toFixed(2)} NGN`;}        updateBalance();
    </script>
</body>
</html>
